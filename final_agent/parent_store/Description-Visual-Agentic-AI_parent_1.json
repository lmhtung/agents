{
  "page_content": "## **Phần 2. Visual Agentic AI**  \nTrong phần này, chúng ta sẽsửdụng thư viện LangGraph đểxây dựng agent dựa trên kiến trúc **Supervisor** thông qua thư viện LangGraph.  \nLangGraph là một framework xây dựng trên LangChain, cho phép mô hình hóa các quy trình tác vụ của LLM dưới dạng đồthịtrạng thái có vòng lặp (stateful graph). Một trong những cấu trúc mạnh mẽ mà LangGraph hỗtrợlà multi-agent supervisor architecture – nơi một agent đóng vai trò \"supervisor\" (giám sát), điều phối các agent con có chuyên môn khác nhau đểhoàn thành tác vụ.  \nKiến trúc này phản ánh mô hình phân quyền trong các tổchức thực tế: supervisor giống như người quản lý, còn các agents con là nhân viên chuyên môn (ví dụ: tìm kiếm thông tin, phân tích sốliệu, lập kếhoạch).  \nTrong đó:  \n- Supervisor: Là agent trung tâm có mục đích điều phối hoạt động thực hiện các tác vụvà tương tác với các agent khác.  \n- Hai agents thực hiện hành động chính: Research agent và Vision agent. Các tác nhân này tương tác trực tiếp với Supervisor Agent.  \n- Các agent thiết kếdựa vào ReAct Agent.  \nKiến trúc của agent như sau:  \n**==> picture [490 x 227] intentionally omitted <==**  \nHình 3: Visual Agentic Agent.  \nReAct Agent hoạt động dựa trên việc kết hợp:  \n- Reasoning (Suy luận): Mô hình suy nghĩ vềvấn đề, phân tích tình huống và lập kếhoạch cho hành động tiếp theo.  \n- Acting (Hành động): Mô hình thực hiện các hành động dựa trên suy luận của mình, thu thập thông tin mới và tiếp tục quá trình.  \n--- end of page.page_number=3 ---  \n**AI VIETNAM**  \n**aivietnam.edu.vn**  \n**==> picture [319 x 248] intentionally omitted <==**  \nHình 4: ReAct Agent sửdụng thư viện LangGraph.\n\n## **1. Cài đặt thư viện**  \nCài đặt một sốthư viện, bao gồm LangGraph, các thư viện hỗtrợcông cụtìm kiếm như Tavily, Arxiv, Wikipedia, và chuẩn bịcác API key cho quá trình sửdụng LLMs.  \n1 `# Install libs` 2 `!pip install -U -qq langchain ==0.3.24 langchain -openai ==0.3.14 langgraph ==0.3.33 langchain -tavily ==0.1.6 langgraph -supervisor` 3 `!pip install --upgrade -qq langchain -core langchain -community arxiv duckduckgo - search wikipedia python -magic ultralytics` 4 5 `import os` 6 `os.environ[ \" LANGCHAIN_API_KEY \" ] = ... ### Your -key` 7 `os.environ[ \" LANGCHAIN_PROJECT \" ] = \"Visual -Agent -AI\"` 8 `os.environ[ \" LANGCHAIN_TRACING_V2 \" ] = \"true\"` 9 `os.environ[ \"TAVILY_API_KEY\" ] = ... ### Your -key` 10 `os.environ[ \"OPENAI_API_KEY\" ] = ... ### Your -key` 11 12 `import base64` 13 `import os` 14 `from typing import Annotated , List , Optional , Union` 15 16 `import magic` 17 `import requests` 18 `from IPython.display import Image , display` 19 `from langchain.chat_models import init_chat_model` 20 `from langchain.output_parsers import PydanticOutputParser` 21 `from langchain.prompts import PromptTemplate` 22 `from langchain_community .tools import (` 23 `ArxivQueryRun ,` 24 `DuckDuckGoSearchResults ,` 25 `WikipediaQueryRun ,` 26 `)` 27 `from langchain_community .utilities import (` 28 `ArxivAPIWrapper ,`  \n--- end of page.page_number=4 ---  \n**AI VIETNAM**  \n**aivietnam.edu.vn**  \n29 `DuckDuckGoSearchAPIWrapper ,` 30 `WikipediaAPIWrapper ,` 31 `)` 32 `from langchain_core.callbacks import (` 33 `AsyncCallbackManagerForToolRun ,` 34 `CallbackManagerForToolRun ,` 35 `)` 36 `from langchain_core.messages import (` 37 `AnyMessage ,` 38 `HumanMessage ,` 39 `SystemMessage ,` 40 `convert_to_messages ,` 41 `)` 42 `from langchain_core.prompts import ChatPromptTemplate` 43 `from langchain_core.tools import BaseTool , tool` 44 `from langchain_core.tools.base import ArgsSchema` 45 `from langchain_openai import ChatOpenAI` 46 `from langgraph.graph import END , START , StateGraph` 47 `from langgraph.graph.message import add_messages` 48 `from langgraph.prebuilt import ToolNode , create_react_agent , tools_condition` 49 `from langgraph_supervisor import create_supervisor` 50 `from pydantic import BaseModel , Field` 51 `from typing_extensions import TypedDict` 52 `from ultralytics import YOLO`\n\n## **2. Khởi tạo LLM**  \nTrong phần này, chúng ta sửdụng mô hình `gpt-4.1-nano` đểlàm “bộnão\"\" cho các agents của chúng ta.  \n1 `llm = ChatOpenAI(model= \"gpt -4.1 - nano\" )`  \nĐểchạy thửmô hình LLM đã load, chúng ta có thểdùng method `invoke()` như sau:  \n1  \n```\nllm.invoke(\"Howareyou?\")\n```  \n2  \n3 `# Output result` 4 `# AIMessage(content =\"I\"m doing well , thank you! How can I assist you today ?\", additional_kwargs ={\" refusal \": None}, response_metadata ={\" token_usage \": {\" completion_tokens \": 15, \" prompt_tokens \": 11, \"total_tokens \": 26, \" completion_tokens_details \": {\" accepted_prediction_tokens \": 0, \" audio_tokens \": 0, \" reasoning_tokens \": 0, \" rejected_prediction_tokens \": 0}, \" prompt_tokens_details \": {\" audio_tokens \": 0, \" cached_tokens \": 0}}, \"model_name \": \"gpt -4.1-nano -2025 -04 -14\" , \" system_fingerprint \": \" fp_8fd43718b3 \", \"id\": \" chatcmpl - BWDKARICI3n9a2wJGyhWhtY4zUn1N \", \" finish_reason \": \"stop\", \"logprobs \": None}, id=\"run --005f9422 -82d7 -41ae -9e2a -d26d961d2a1a -0\", usage_metadata ={\" input_tokens \": 11, \"output_tokens \": 15, \" total_tokens \": 26, \" input_token_details \": {\" audio \": 0, \"cache_read \": 0}, \" output_token_details \": {\" audio \": 0, \"reasoning \": 0}})`",
  "metadata": {
    "H2": "**Phần 2. Visual Agentic AI** -> **1. Cài đặt thư viện** -> **2. Khởi tạo LLM** -> **3. Xây dựng Research Agent**",
    "source": "Description-Visual-Agentic-AI.pdf",
    "parent_id": "Description-Visual-Agentic-AI_parent_1"
  }
}